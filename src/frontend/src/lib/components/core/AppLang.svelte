<script lang="ts">
	import { i18n } from '$lib/stores/i18n.store';
	import Value from '$lib/components/ui/Value.svelte';
	import { onMount } from 'svelte';

	export let element: HTMLSelectElement;
	export let selected: Languages;

	onMount(() => (selected = $i18n.lang));
</script>

<Value>
	<svelte:fragment slot="label">{$i18n.core.language}</svelte:fragment>
	<select
		bind:value={selected}
		bind:this={element}
		on:change={async () => await i18n.switchLang(selected)}
	>
		<option value="en"> English </option>
		<option value="zh-cn"> 中国大陆 </option>
		<option value="it"> Italiano </option>
	</select>
</Value>

<style lang="scss">
	select {
		width: fit-content;
	}
</style>
